<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ethan Campbell">
<meta name="dcterms.date" content="2022-10-30">
<meta name="description" content="Analyzing English premier league team’s and how their langauge chagnes during the course of the season">

<title>- Textual Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


<meta name="twitter:title" content="- Textual Analysis">
<meta name="twitter:description" content="Analyzing English premier league team’s and how their langauge chagnes during the course of the season">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/UMass White Wordmark Horiz.png" alt="" class="navbar-logo">
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://ethancade.github.io/Work-Portfolio/">My work</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">About me</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss">DACSS</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Ethancade"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 </a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#loading-packages" id="toc-loading-packages" class="nav-link active" data-scroll-target="#loading-packages">Loading Packages</a></li>
  <li><a href="#data-sources" id="toc-data-sources" class="nav-link" data-scroll-target="#data-sources">Data Sources</a></li>
  <li><a href="#analytical-planning" id="toc-analytical-planning" class="nav-link" data-scroll-target="#analytical-planning">Analytical planning</a></li>
  <li><a href="#web-scrapingtidying-data" id="toc-web-scrapingtidying-data" class="nav-link" data-scroll-target="#web-scrapingtidying-data">Web Scraping/Tidying data</a>
  <ul class="collapse">
  <li><a href="#arsenal" id="toc-arsenal" class="nav-link" data-scroll-target="#arsenal">Arsenal</a></li>
  <li><a href="#manchester-city" id="toc-manchester-city" class="nav-link" data-scroll-target="#manchester-city">Manchester City</a></li>
  <li><a href="#newcastle-united" id="toc-newcastle-united" class="nav-link" data-scroll-target="#newcastle-united">Newcastle united</a></li>
  <li><a href="#everton" id="toc-everton" class="nav-link" data-scroll-target="#everton">Everton</a></li>
  <li><a href="#leicester" id="toc-leicester" class="nav-link" data-scroll-target="#leicester">Leicester</a></li>
  <li><a href="#west-ham-united" id="toc-west-ham-united" class="nav-link" data-scroll-target="#west-ham-united">West Ham United</a></li>
  <li><a href="#exploratory-analysis" id="toc-exploratory-analysis" class="nav-link" data-scroll-target="#exploratory-analysis">Exploratory Analysis</a></li>
  <li><a href="#bibliography" id="toc-bibliography" class="nav-link" data-scroll-target="#bibliography">Bibliography</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Textual Analysis</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>

<div>
  <div class="description">
    Analyzing English premier league team’s and how their langauge chagnes during the course of the season
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ethan Campbell </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 30, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="loading-packages" class="level1">
<h1>Loading Packages</h1>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'rvest' was built under R version 4.1.3</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidyverse' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>-- Attaching packages --------------------------------------- tidyverse 1.3.2 --
v ggplot2 3.3.6     v purrr   0.3.4
v tibble  3.1.8     v dplyr   1.0.9
v tidyr   1.2.0     v stringr 1.4.1
v readr   2.1.2     v forcats 0.5.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tibble' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidyr' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'readr' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'dplyr' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'stringr' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'forcats' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x dplyr::filter()         masks stats::filter()
x readr::guess_encoding() masks rvest::guess_encoding()
x dplyr::lag()            masks stats::lag()</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(polite)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'polite' was built under R version 4.1.3</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'quanteda' was built under R version 4.1.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in .recacheSubclasses(def@className, def, env): undefined subclass
"packedMatrix" of class "mMatrix"; definition not updated</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in .recacheSubclasses(def@className, def, env): undefined subclass
"packedMatrix" of class "replValueSp"; definition not updated</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Package version: 3.2.3
Unicode version: 13.0
ICU version: 69.1
Parallel computing: 12 of 12 threads used.
See https://quanteda.io for tutorials and examples.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textplots)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'quanteda.textplots' was built under R version 4.1.3</code></pre>
</div>
</div>
</section>
<section id="data-sources" class="level1">
<h1>Data Sources</h1>
<p>There are 6 teams included in this study 2 from the top of the table 2 from the middle and 2 from the bottom. They are already in that order from top to bottom. Data needed to be web scraped from a page called match report. This page was located on each teams official website and this page included information about the match, statistics, and quotes from both the players and the managers.</p>
<p><a href="https://www.arsenal.com/news?field_article_arsenal_team_value=men&amp;revision_information=&amp;page=1">Arsenal Data</a></p>
<p><a href="https://www.mancity.com/news/mens">Manchester City Data</a></p>
<p><a href="https://www.nufc.co.uk/matches/first-team/#results">Newcastle United Data</a></p>
<p><a href="https://www.evertonfc.com/results">Everton Data</a></p>
<p><a href="https://www.lcfc.com/matches/reports">Leicester Data</a></p>
<p><a href="https://www.whufc.com/fixture/list/713">West Ham United Data</a></p>
</section>
<section id="analytical-planning" class="level1">
<h1>Analytical planning</h1>
<div class="cell">
<div class="cell-output-display">
<div>
<p>
</p><pre class="mermaid" data-tooltip-selector="#mermaid-tooltip-1">flowchart LR
  A[Web Scrape] --&gt; B(Preprocess)
  B --&gt; C[Organize]
  C --&gt; D(TDM)
  D --&gt; E[Sentiment Analysis]
  E --&gt; F[Research Question 1]
  F --&gt; G{Conclusion}
  D --&gt; H[DTM]
  H --&gt; I[Document Similarity]
  I --&gt; J[Research Question 2]
  J --&gt; G{Conclusion}
</pre>
<div id="mermaid-tooltip-1" class="mermaidTooltip">

</div>
<p></p>
</div>
</div>
</div>
</section>
<section id="web-scrapingtidying-data" class="level1">
<h1>Web Scraping/Tidying data</h1>
<p>Here is the beginning of the web scraping process. I was unable to find a way to make the web scraper search for one object then proceed to the next page where you could then scrape whats inside. For the time being I decided to manually web scrape the information. The tidying process is the real issue as there are many unwanted variables inside. For example there are a lot of /n’s.</p>
<section id="arsenal" class="level2">
<h2 class="anchored" data-anchor-id="arsenal">Arsenal</h2>
<p>This data was scraped from the official Arsenal page. This scraping pulled in all the matches that have been played this season thus far and will continue to grow as the season progresses. Within this scraped data there was a lot that needed to get removed which included things like /n, , random number strings, and long sentences talking about buying Arsenal pictures. After using stringr to clean up the data we unlisted it and started moving towards a corpus. There is still some tidying that needs to be done to remove some -’s and to make some spaces at certain portion of the document. After cleaning this data was put into a character vector and then put into a corpus which can be found at the bottom of this code. I added in the name of the team and the match number to the table and after that we can start looking at what the data means. So far 7 matches have been played and the word count was kept fairly consistent until match 5</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="do">## The function is working at reading in the data however. parts of the cleaning process are failing and I am thinking this is because I am not specifying the create values</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co"># I need to remove punct, capitalization, stopwords like (the, a ',') finish repeating the process to all teams and adjusting the function until it grabs every single problem once this is complete we should be able to tokenize then corpus and work with the data</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>Web_scrape_function_Arsenal <span class="ot">&lt;-</span> <span class="cf">function</span>(url,css,data) { <span class="co"># creating function to repeat web scrape </span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url) </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>css <span class="ot">&lt;-</span> (<span class="st">".article-body"</span>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> url <span class="sc">%&gt;%</span> </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="at">css =</span> css) <span class="sc">%&gt;%</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(data, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"/n"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"/n"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">" - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[0-9] of [1234567890]To buy official Arsenal pictures visit Arsenal Pics"</span>, <span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[1234567890] of 42To buy official Arsenal pictures visit Arsenal Pics"</span>, <span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[1234567890] of 29To buy official Arsenal pictures visit Arsenal Pics"</span>, <span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[1234567890] of 45To buy official Arsenal pictures visit Arsenal Pics"</span>, <span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[1234567890] of 38To buy official Arsenal pictures visit Arsenal Pics"</span>, <span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[1234567890] of 32To buy official Arsenal pictures visit Arsenal Pics"</span>, <span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove</span>(<span class="st">"Play videoWatch Arsenal video online05:24Highlights | Crystal Palace 0-2 Arsenal - bitesize"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove</span>(<span class="st">"111111111122222222223333333333444"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/fixture/arsenal/2022-Aug-05/crystal-palace-0-2-arsenal-match-report"</span></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>Match_1 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/fixture/arsenal/2022-Aug-13/arsenal-4-2-leicester-city-match-report"</span></span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>Match_2 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/premier-league-match-report-bournemouth-odegaard-saliba-jesus"</span></span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>Match_3 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/premier-league-match-report-fulham-odegaard-gabriel"</span></span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>Match_4 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/match-report-aston-villa-premier-league-martinelli-jesus"</span></span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a>Match_5 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/fixture/arsenal/2022-Sep-04/manchester-united-3-1-arsenal-match-report"</span></span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a>Match_6 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb24-49"><a href="#cb24-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-50"><a href="#cb24-50" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/premier-league-match-report-brentford-saliba-jesus-vieira"</span></span>
<span id="cb24-51"><a href="#cb24-51" aria-hidden="true" tabindex="-1"></a>Match_7 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb24-52"><a href="#cb24-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-53"><a href="#cb24-53" aria-hidden="true" tabindex="-1"></a>Arsenal <span class="ot">&lt;-</span> <span class="fu">c</span>(Match_1, Match_2, Match_3, Match_4, Match_5, Match_6, Match_7)</span>
<span id="cb24-54"><a href="#cb24-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-55"><a href="#cb24-55" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(Arsenal)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8163 9066 7726 7601 4433 7322 7818</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>Arsenal_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(Arsenal)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>Arsenal_corpus_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(Arsenal_corpus)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(Arsenal_corpus) <span class="ot">&lt;-</span> Arsenal_corpus_summary</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding team name</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>Arsenal_corpus_summary<span class="sc">$</span>Team <span class="ot">&lt;-</span> <span class="st">"Arsenal"</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="co"># create a Match number</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>Arsenal_corpus_summary<span class="sc">$</span>Match <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Arsenal_corpus_summary<span class="sc">$</span>Text, <span class="st">"[0-9]+"</span>))</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>Arsenal_corpus_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Corpus consisting of 7 documents, showing 7 documents:

  Text Types Tokens Sentences    Team Match
 text1   523   1412        11 Arsenal     1
 text2   602   1623        22 Arsenal     2
 text3   551   1387        15 Arsenal     3
 text4   479   1299         9 Arsenal     4
 text5   408    790        12 Arsenal     5
 text6   481   1258         6 Arsenal     6
 text7   526   1395        21 Arsenal     7</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Document feature matrix</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>Arsenal_dfm <span class="ot">&lt;-</span> <span class="fu">dfm</span>(<span class="fu">tokens</span>(Arsenal_corpus,</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">remove_punct =</span> <span class="cn">TRUE</span>,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">remove_symbols =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">dfm</span>(<span class="at">tolower =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">dfm_remove</span>(<span class="fu">stopwords</span>(<span class="st">'english'</span>)))</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span>(Arsenal_dfm)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="fu">topfeatures</span>(Arsenal_dfm, <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> arsenal official      buy pictures    visit   league    first  premier 
     475      223      222      222      222       63       60       57 
 minutes     45to     42to     38to     36to     goal    jesus     32to 
      49       45       42       38       36       33       33       32 
      us     ball     back     29to 
      31       31       29       29 </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co"># draw the wordcloud</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(Arsenal_dfm, <span class="at">min_count =</span> <span class="dv">20</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="TextualAnalysis_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># comparing the first and last game</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>Arsenal_small_dfm <span class="ot">&lt;-</span> Arsenal_dfm[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">7</span>),]</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co"># draw the wordcloud</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(Arsenal_small_dfm, <span class="at">comparison =</span> <span class="cn">TRUE</span>, <span class="at">min_count =</span> <span class="dv">5</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="TextualAnalysis_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a table to show the highest frequncy items and then ranking them</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>word_counts <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">sort</span>(<span class="fu">colSums</span>(Arsenal_dfm),<span class="at">dec=</span>T))</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(word_counts) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Frequency"</span>)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>word_counts<span class="sc">$</span>Rank <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(Arsenal_dfm))</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(word_counts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         Frequency Rank
arsenal        475    1
official       223    2
buy            222    3
pictures       222    4
visit          222    5
league          63    6</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># zipf's law is really quite accurate as the data does fall off really quickly</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(word_counts, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Rank, <span class="at">y =</span> Frequency)) <span class="sc">+</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Zipf's Law"</span>, <span class="at">x =</span> <span class="st">"Rank"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>) <span class="sc">+</span> </span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="TextualAnalysis_files/figure-html/unnamed-chunk-4-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(Arsenal_dfm, <span class="at">min_termfreq =</span> <span class="dv">10</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co"># trim based on the proportion of documents that the feature appears in; here, </span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># the feature needs to appear in more than 10% of documents (chapters)</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(Arsenal_smaller_dfm, <span class="at">min_docfreq =</span> <span class="fl">0.1</span>, <span class="at">docfreq_type =</span> <span class="st">"prop"</span>)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Document-feature matrix of: 7 documents, 67 features (18.12% sparse) and 4 docvars.
       features
docs    gabriel martinelli header goal premier league start win home minutes
  text1       2          3      2    6       9      8     4   3    3      10
  text2       3          6      3    4       5      5     2   1    3       9
  text3       3          3      1    8      10     11     5   2    1       7
  text4       7          4      2    4       8      8     3   3    3       9
  text5       4          5      0    5       7      9     1   0    0       5
  text6       2          5      1    5       5      7     2   1    0       6
[ reached max_ndoc ... 1 more document, reached max_nfeat ... 57 more features ]</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(Arsenal_smaller_dfm, <span class="at">min_count =</span> <span class="dv">50</span>,</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="TextualAnalysis_files/figure-html/unnamed-chunk-4-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating the FCM</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(Arsenal_dfm, <span class="at">min_termfreq =</span> <span class="dv">20</span>)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(Arsenal_smaller_dfm, <span class="at">min_docfreq =</span> .<span class="dv">3</span>, <span class="at">docfreq_type =</span> <span class="st">"prop"</span>)</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co"># create fcm from dfm</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm <span class="ot">&lt;-</span> <span class="fu">fcm</span>(Arsenal_smaller_dfm)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="co"># check the dimensions (i.e., the number of rows and the number of columnns)</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="co"># of the matrix we created</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(Arsenal_smaller_dfm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 22 22</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pull the top features</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>myFeatures <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">topfeatures</span>(Arsenal_smaller_dfm, <span class="dv">30</span>))</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># retain only those top features as part of our matrix</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm <span class="ot">&lt;-</span> <span class="fu">fcm_select</span>(Arsenal_smaller_dfm, <span class="at">pattern =</span> myFeatures, <span class="at">selection =</span> <span class="st">"keep"</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># check dimensions</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(Arsenal_smaller_dfm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 22 22</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compute size weight for vertices in network</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>size <span class="ot">&lt;-</span> <span class="fu">log</span>(<span class="fu">colSums</span>(Arsenal_smaller_dfm))</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co"># create plot</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_network</span>(Arsenal_smaller_dfm, <span class="at">vertex_size =</span> size <span class="sc">/</span> <span class="fu">max</span>(size) <span class="sc">*</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="TextualAnalysis_files/figure-html/unnamed-chunk-4-5.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="manchester-city" class="level2">
<h2 class="anchored" data-anchor-id="manchester-city">Manchester City</h2>
<p>Manchester Cty followed a very similar path as Arsenal as this one also required a lot cleaning with stringr however, it had a few unique moments. For example, I had to clean () which were all over the place in the original data. Other than this portion the cleaning process was the same and this will also needs some additional cleaning. I was able to move this into the corpus as well and we noticed that it had more sentences than Arsenal. However, this could be do to the spacing problem that I mentioned above more studying will need to be done after that change has been made. This team also had a more consistent amount of words and unique words.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>Web_scrape_function_mancity <span class="ot">&lt;-</span> <span class="cf">function</span>(url,css,data) { <span class="co"># creating function to repeat web scrape </span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url) </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>css <span class="ot">&lt;-</span> (<span class="st">".article-body__article-text"</span>)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> url <span class="sc">%&gt;%</span> </span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="at">css =</span> css) <span class="sc">%&gt;%</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(data, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"/n"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"/n"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">" - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/west-ham-v-manchester-city-premier-league-match-report-63795480"</span></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>Match_1 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/man-city-bournemouth-premier-league-match-report-63795987"</span></span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>Match_2 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/newcastle-v-manchester-city-match-report-63796690"</span></span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>Match_3 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/man-city-crystal-palace-match-report-63797204"</span></span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a>Match_4 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/manchester-city-v-nottingham-forest-match-report-31-august-63797573"</span></span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a>Match_5 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb43-32"><a href="#cb43-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-33"><a href="#cb43-33" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/aston-villa-manchester-city-premier-league-match-report-63797816"</span></span>
<span id="cb43-34"><a href="#cb43-34" aria-hidden="true" tabindex="-1"></a>Match_6 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb43-35"><a href="#cb43-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-36"><a href="#cb43-36" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/wolves-manchester-city-away-premier-league-2022-match-report-63799002"</span></span>
<span id="cb43-37"><a href="#cb43-37" aria-hidden="true" tabindex="-1"></a>Match_7 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb43-38"><a href="#cb43-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-39"><a href="#cb43-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-40"><a href="#cb43-40" aria-hidden="true" tabindex="-1"></a>ManCity <span class="ot">&lt;-</span> <span class="fu">c</span>(Match_1, Match_2, Match_3, Match_4, Match_5, Match_6, Match_7)</span>
<span id="cb43-41"><a href="#cb43-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-42"><a href="#cb43-42" aria-hidden="true" tabindex="-1"></a>Mancity_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(ManCity)</span>
<span id="cb43-43"><a href="#cb43-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-44"><a href="#cb43-44" aria-hidden="true" tabindex="-1"></a>Mancity_corpus_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(Mancity_corpus)</span>
<span id="cb43-45"><a href="#cb43-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-46"><a href="#cb43-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a Team Name </span></span>
<span id="cb43-47"><a href="#cb43-47" aria-hidden="true" tabindex="-1"></a>Mancity_corpus_summary<span class="sc">$</span>Team <span class="ot">&lt;-</span> <span class="st">"Manchester City"</span></span>
<span id="cb43-48"><a href="#cb43-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-49"><a href="#cb43-49" aria-hidden="true" tabindex="-1"></a><span class="co"># create a Match number</span></span>
<span id="cb43-50"><a href="#cb43-50" aria-hidden="true" tabindex="-1"></a>Mancity_corpus_summary<span class="sc">$</span>Match <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Mancity_corpus_summary<span class="sc">$</span>Text, <span class="st">"[0-9]+"</span>))</span>
<span id="cb43-51"><a href="#cb43-51" aria-hidden="true" tabindex="-1"></a>Mancity_corpus_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Corpus consisting of 7 documents, showing 7 documents:

  Text Types Tokens Sentences            Team Match
 text1   564   1270        21 Manchester City     1
 text2   615   1482        28 Manchester City     2
 text3   660   1462        20 Manchester City     3
 text4   550   1218        23 Manchester City     4
 text5   489   1126        34 Manchester City     5
 text6   661   1744        60 Manchester City     6
 text7   703   1724        34 Manchester City     7</code></pre>
</div>
</div>
</section>
<section id="newcastle-united" class="level2">
<h2 class="anchored" data-anchor-id="newcastle-united">Newcastle united</h2>
<p>This is the start of the middle table teams which I am exciting to see how they differ the two top tier teams. This data was scraped from the Newcastle official website and the cleaning process was pretty straight forward on this one as there was nothing unique that needed to be changed. One noticeable difference between this team and the top teams is the amount of words used in match reports as this one is about half of the first two teams. This might be unique to just this team or maybe the lower in the league the team is the less they will write about their performance?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># New Castle United first match against nottingham forest</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 rule for 1 bots crawl delay 5 seconds, scrapable</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="fu">bow</span>(<span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/newcastle-united-v-nottingham-forest/"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;polite session&gt; https://www.nufc.co.uk/matches/first-team/2022-23/newcastle-united-v-nottingham-forest/
    User-agent: polite R package
    robots.txt: 1 rules are defined for 1 bots
   Crawl delay: 5 sec
  The path is scrapable for this user-agent</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>Web_scrape_function_Newcastle <span class="ot">&lt;-</span> <span class="cf">function</span>(url,css,data) { <span class="co"># creating function to repeat web scrape </span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url) </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>css <span class="ot">&lt;-</span> (<span class="st">".article__body"</span>)</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> url <span class="sc">%&gt;%</span> </span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="at">css =</span> css) <span class="sc">%&gt;%</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(data, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"/n"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"/n"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">" - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\"</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/newcastle-united-v-nottingham-forest/"</span></span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>Match_1 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/brighton-and-hove-albion-v-newcastle-united/"</span></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>Match_2 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/newcastle-united-v-manchester-city/"</span></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>Match_3 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/wolverhampton-wanderers-v-newcastle-united/"</span></span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a>Match_4 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb47-30"><a href="#cb47-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-31"><a href="#cb47-31" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/liverpool-v-newcastle-united/"</span></span>
<span id="cb47-32"><a href="#cb47-32" aria-hidden="true" tabindex="-1"></a>Match_5 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb47-33"><a href="#cb47-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-34"><a href="#cb47-34" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/newcastle-united-v-crystal-palace/"</span></span>
<span id="cb47-35"><a href="#cb47-35" aria-hidden="true" tabindex="-1"></a>Match_6 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb47-36"><a href="#cb47-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-37"><a href="#cb47-37" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/newcastle-united-v-bournemouth/"</span></span>
<span id="cb47-38"><a href="#cb47-38" aria-hidden="true" tabindex="-1"></a>Match_7 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb47-39"><a href="#cb47-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-40"><a href="#cb47-40" aria-hidden="true" tabindex="-1"></a>NewCastle <span class="ot">&lt;-</span> <span class="fu">c</span>(Match_1, Match_2, Match_3, Match_4, Match_5, Match_6, Match_7)</span>
<span id="cb47-41"><a href="#cb47-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-42"><a href="#cb47-42" aria-hidden="true" tabindex="-1"></a>Newcastle_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(NewCastle)</span>
<span id="cb47-43"><a href="#cb47-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-44"><a href="#cb47-44" aria-hidden="true" tabindex="-1"></a>Newcastle_corpus_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(Newcastle_corpus)</span>
<span id="cb47-45"><a href="#cb47-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-46"><a href="#cb47-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a team name</span></span>
<span id="cb47-47"><a href="#cb47-47" aria-hidden="true" tabindex="-1"></a>Newcastle_corpus_summary<span class="sc">$</span>Team <span class="ot">&lt;-</span> <span class="st">"New Castle"</span></span>
<span id="cb47-48"><a href="#cb47-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-49"><a href="#cb47-49" aria-hidden="true" tabindex="-1"></a><span class="co"># create a Match number</span></span>
<span id="cb47-50"><a href="#cb47-50" aria-hidden="true" tabindex="-1"></a>Newcastle_corpus_summary<span class="sc">$</span>Match <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Newcastle_corpus_summary<span class="sc">$</span>Text, <span class="st">"[0-9]+"</span>))</span>
<span id="cb47-51"><a href="#cb47-51" aria-hidden="true" tabindex="-1"></a>Newcastle_corpus_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Corpus consisting of 7 documents, showing 7 documents:

  Text Types Tokens Sentences       Team Match
 text1   336    665        11 New Castle     1
 text2   336    613        12 New Castle     2
 text3   340    677        12 New Castle     3
 text4   294    539         8 New Castle     4
 text5   324    615         8 New Castle     5
 text6   361    759        19 New Castle     6
 text7   377    741        19 New Castle     7</code></pre>
</div>
</div>
</section>
<section id="everton" class="level2">
<h2 class="anchored" data-anchor-id="everton">Everton</h2>
<p>Was going to use Aston Villa originally however, the web scrapping was not returning the correct information so we switched to Everton which is running much more smoothly. This is the second team on the list of middle-tier teams and their cleaning process was about the same as the last team however, Aston Villa’s website was really hard to scrape from. Looking at the corpus information for Everton we notice an increase in words compared to the last team however, there is one match that is significantly higher than the rest. This is match 2 which was against Aston Villa and I am currently unsure why there is such a difference between these amounts.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Everton vs Chelsea</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 rule for 1 bots crawl delay 5 seconds, scrapable</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="fu">bow</span>(<span class="st">"https://www.evertonfc.com/match/74913/everton-chelsea#report"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;polite session&gt; https://www.evertonfc.com/match/74913/everton-chelsea#report
    User-agent: polite R package
    robots.txt: 1 rules are defined for 1 bots
   Crawl delay: 5 sec
  The path is scrapable for this user-agent</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>Web_scrape_function_Everton <span class="ot">&lt;-</span> <span class="cf">function</span>(url,css,data) { <span class="co"># creating function to repeat web scrape </span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url) </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>css <span class="ot">&lt;-</span> (<span class="st">".article__body.mc-report__body.js-article-body"</span>)</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> url <span class="sc">%&gt;%</span> </span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="at">css =</span> css) <span class="sc">%&gt;%</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(data, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"/n"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"/n"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">" - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\"</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span> <span class="st">"https://www.evertonfc.com/match/74913/everton-chelsea#report"</span></span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>Match_1 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span> <span class="st">"https://www.evertonfc.com/match/74922/aston-villa-everton#report"</span></span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>Match_2 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span> <span class="st">"https://www.evertonfc.com/match/74933/everton-nottm-forest#report"</span></span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>Match_3 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span><span class="st">"https://www.evertonfc.com/match/74943/brentford-everton#report"</span></span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a>Match_4 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb51-30"><a href="#cb51-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-31"><a href="#cb51-31" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span> <span class="st">"https://www.evertonfc.com/match/74955/leeds-everton#report"</span></span>
<span id="cb51-32"><a href="#cb51-32" aria-hidden="true" tabindex="-1"></a>Match_5 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb51-33"><a href="#cb51-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-34"><a href="#cb51-34" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span> <span class="st">"https://www.evertonfc.com/match/74965/everton-liverpool#report"</span></span>
<span id="cb51-35"><a href="#cb51-35" aria-hidden="true" tabindex="-1"></a>Match_6 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb51-36"><a href="#cb51-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-37"><a href="#cb51-37" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span> <span class="st">"https://www.evertonfc.com/match/74985/everton-west-ham#report"</span></span>
<span id="cb51-38"><a href="#cb51-38" aria-hidden="true" tabindex="-1"></a>Match_7 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb51-39"><a href="#cb51-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-40"><a href="#cb51-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-41"><a href="#cb51-41" aria-hidden="true" tabindex="-1"></a>Everton <span class="ot">&lt;-</span> <span class="fu">c</span>(Match_1, Match_2, Match_3, Match_4, Match_5, Match_6, Match_7)</span>
<span id="cb51-42"><a href="#cb51-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-43"><a href="#cb51-43" aria-hidden="true" tabindex="-1"></a>Everton_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(Everton)</span>
<span id="cb51-44"><a href="#cb51-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-45"><a href="#cb51-45" aria-hidden="true" tabindex="-1"></a>Everton_corpus_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(Everton_corpus)</span>
<span id="cb51-46"><a href="#cb51-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-47"><a href="#cb51-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a team name</span></span>
<span id="cb51-48"><a href="#cb51-48" aria-hidden="true" tabindex="-1"></a>Everton_corpus_summary<span class="sc">$</span>Team <span class="ot">&lt;-</span> <span class="st">"Everton"</span></span>
<span id="cb51-49"><a href="#cb51-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-50"><a href="#cb51-50" aria-hidden="true" tabindex="-1"></a><span class="co"># create a match indicator</span></span>
<span id="cb51-51"><a href="#cb51-51" aria-hidden="true" tabindex="-1"></a>Everton_corpus_summary<span class="sc">$</span>Match <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Everton_corpus_summary<span class="sc">$</span>Text, <span class="st">"[0-9]+"</span>))</span>
<span id="cb51-52"><a href="#cb51-52" aria-hidden="true" tabindex="-1"></a>Everton_corpus_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Corpus consisting of 7 documents, showing 7 documents:

  Text Types Tokens Sentences    Team Match
 text1   516    990         6 Everton     1
 text2   703   1577        13 Everton     2
 text3   330    624         1 Everton     3
 text4   340    614         3 Everton     4
 text5   374    709         4 Everton     5
 text6   418    872         4 Everton     6
 text7   438    874        10 Everton     7</code></pre>
</div>
</div>
</section>
<section id="leicester" class="level2">
<h2 class="anchored" data-anchor-id="leicester">Leicester</h2>
<p>This is the start of the bottom tier teams and we start to get a look into teams that are in the relegation zone which means that if they do not start improving their performance they will get moved down to the second league. I am expecting some urgency from this team and I am expecting that each match means a lot more to a team like this where one win can seperate you from staying or getting kicked out of the league. The cleaning process went smoothly with this team but there is deffiently still some work that needs to be done before the real analysis. We noticed that there words used was higher than the two middle teams on average and they had a pretty consistent range.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Leicester against Brentford</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 bot 1 rule scrapable 5 second crawl</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="fu">bow</span>(<span class="st">"https://www.lcfc.com/news/2729025/city-held-by-bees-in-premier-league-opener/featured"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;polite session&gt; https://www.lcfc.com/news/2729025/city-held-by-bees-in-premier-league-opener/featured
    User-agent: polite R package
    robots.txt: 1 rules are defined for 1 bots
   Crawl delay: 5 sec
  The path is scrapable for this user-agent</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>Web_scrape_function_Leicester <span class="ot">&lt;-</span> <span class="cf">function</span>(url,css,data) { <span class="co"># creating function to repeat web scrape </span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url) </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>css <span class="ot">&lt;-</span> (<span class="st">".col-12"</span>)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> url <span class="sc">%&gt;%</span> </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="at">css =</span> css) <span class="sc">%&gt;%</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(data, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"/n"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"/n"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">" - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\"</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"More on this story. . . In Photos -"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2729025/city-held-by-bees-in-premier-league-opener/featured"</span></span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>Match_1 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2739798/foxes-fall-to-defeat-at-arsenal/featured"</span></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>Match_2 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2751347/saints-take-the-points-on-filbert-way/featured"</span></span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>Match_3 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2762326/city-defeated-as-10man-chelsea-win-at-stamford-bridge/featured"</span></span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a>Match_4 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2774578/man-utd-defeat-for-leicester-on-matchday-five/featured"</span></span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>Match_5 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2779658/city-beaten-away-to-brighton/featured"</span></span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a>Match_6 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2793845/leicester-lose-to-spurs-in-london/featured"</span></span>
<span id="cb55-39"><a href="#cb55-39" aria-hidden="true" tabindex="-1"></a>Match_7 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb55-40"><a href="#cb55-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-41"><a href="#cb55-41" aria-hidden="true" tabindex="-1"></a>Leicester <span class="ot">&lt;-</span> <span class="fu">c</span>(Match_1, Match_2, Match_3, Match_4, Match_5, Match_6, Match_7)</span>
<span id="cb55-42"><a href="#cb55-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-43"><a href="#cb55-43" aria-hidden="true" tabindex="-1"></a>Leicester_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(Leicester)</span>
<span id="cb55-44"><a href="#cb55-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-45"><a href="#cb55-45" aria-hidden="true" tabindex="-1"></a>Leicester_corpus_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(Leicester_corpus)</span>
<span id="cb55-46"><a href="#cb55-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-47"><a href="#cb55-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a team name</span></span>
<span id="cb55-48"><a href="#cb55-48" aria-hidden="true" tabindex="-1"></a>Leicester_corpus_summary<span class="sc">$</span>Team <span class="ot">&lt;-</span> <span class="st">"Leicester"</span></span>
<span id="cb55-49"><a href="#cb55-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-50"><a href="#cb55-50" aria-hidden="true" tabindex="-1"></a><span class="co"># create a match indicator</span></span>
<span id="cb55-51"><a href="#cb55-51" aria-hidden="true" tabindex="-1"></a>Leicester_corpus_summary<span class="sc">$</span>Match <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Leicester_corpus_summary<span class="sc">$</span>Text, <span class="st">"[0-9]+"</span>))</span>
<span id="cb55-52"><a href="#cb55-52" aria-hidden="true" tabindex="-1"></a>Leicester_corpus_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Corpus consisting of 7 documents, showing 7 documents:

  Text Types Tokens Sentences      Team Match
 text1   533   1143        26 Leicester     1
 text2   539   1183        18 Leicester     2
 text3   484   1043        39 Leicester     3
 text4   557   1263        27 Leicester     4
 text5   463    830        36 Leicester     5
 text6   498   1071        20 Leicester     6
 text7   481    999        26 Leicester     7</code></pre>
</div>
</div>
</section>
<section id="west-ham-united" class="level2">
<h2 class="anchored" data-anchor-id="west-ham-united">West Ham United</h2>
<p>West Ham was fairly straight forward and I was able to clean this one pretty well. There is still some spacing work that needs to be done but that will come at a later stage. When looking at their information we noticed that they use some of the least amount of words when talking about the matches. They also use some of the least unique words so I am interested to break this one down and see if they are mostly talking about certain players performances.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># West Ham vs Manchester City</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>Web_scrape_function_WestHam <span class="ot">&lt;-</span> <span class="cf">function</span>(url,css,data) { <span class="co"># creating function to repeat web scrape </span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url) </span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>css <span class="ot">&lt;-</span> (<span class="st">".m-article__columns"</span>)</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> url <span class="sc">%&gt;%</span> </span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="at">css =</span> css) <span class="sc">%&gt;%</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(data, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"/n"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"/n"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">" - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\"</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"More on this story. . . In Photos -"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6472"</span></span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a>Match_1 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-25"><a href="#cb57-25" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6464"</span></span>
<span id="cb57-26"><a href="#cb57-26" aria-hidden="true" tabindex="-1"></a>Match_2 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb57-27"><a href="#cb57-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-28"><a href="#cb57-28" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6452"</span></span>
<span id="cb57-29"><a href="#cb57-29" aria-hidden="true" tabindex="-1"></a>Match_3 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb57-30"><a href="#cb57-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-31"><a href="#cb57-31" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6450"</span></span>
<span id="cb57-32"><a href="#cb57-32" aria-hidden="true" tabindex="-1"></a>Match_4 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb57-33"><a href="#cb57-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-34"><a href="#cb57-34" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6436"</span></span>
<span id="cb57-35"><a href="#cb57-35" aria-hidden="true" tabindex="-1"></a>Match_5 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb57-36"><a href="#cb57-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-37"><a href="#cb57-37" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6428"</span></span>
<span id="cb57-38"><a href="#cb57-38" aria-hidden="true" tabindex="-1"></a>Match_6 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb57-39"><a href="#cb57-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-40"><a href="#cb57-40" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6407"</span></span>
<span id="cb57-41"><a href="#cb57-41" aria-hidden="true" tabindex="-1"></a>Match_7 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb57-42"><a href="#cb57-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-43"><a href="#cb57-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-44"><a href="#cb57-44" aria-hidden="true" tabindex="-1"></a>Westham <span class="ot">&lt;-</span> <span class="fu">c</span>(Match_1, Match_2, Match_3, Match_4, Match_5, Match_6, Match_7)</span>
<span id="cb57-45"><a href="#cb57-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-46"><a href="#cb57-46" aria-hidden="true" tabindex="-1"></a>Westham_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(Westham)</span>
<span id="cb57-47"><a href="#cb57-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-48"><a href="#cb57-48" aria-hidden="true" tabindex="-1"></a>Westham_corpus_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(Westham_corpus)</span>
<span id="cb57-49"><a href="#cb57-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-50"><a href="#cb57-50" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a team name</span></span>
<span id="cb57-51"><a href="#cb57-51" aria-hidden="true" tabindex="-1"></a>Westham_corpus_summary<span class="sc">$</span>Team <span class="ot">&lt;-</span> <span class="st">"WestHam"</span></span>
<span id="cb57-52"><a href="#cb57-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-53"><a href="#cb57-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-54"><a href="#cb57-54" aria-hidden="true" tabindex="-1"></a><span class="co"># create a match indicator</span></span>
<span id="cb57-55"><a href="#cb57-55" aria-hidden="true" tabindex="-1"></a>Westham_corpus_summary<span class="sc">$</span>Match <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Westham_corpus_summary<span class="sc">$</span>Text, <span class="st">"[0-9]+"</span>))</span>
<span id="cb57-56"><a href="#cb57-56" aria-hidden="true" tabindex="-1"></a>Westham_corpus_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Corpus consisting of 7 documents, showing 7 documents:

  Text Types Tokens Sentences    Team Match
 text1   360    799        16 WestHam     1
 text2   339    759        18 WestHam     2
 text3   283    599        18 WestHam     3
 text4   325    730         7 WestHam     4
 text5   311    694        10 WestHam     5
 text6   338    696        10 WestHam     6
 text7   323    685         8 WestHam     7</code></pre>
</div>
</div>
</section>
<section id="exploratory-analysis" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-analysis">Exploratory Analysis</h2>
</section>
<section id="bibliography" class="level2">
<h2 class="anchored" data-anchor-id="bibliography">Bibliography</h2>
<ul>
<li><p>City, M. (2022). NEWS. Retrieved from Mancity: https://www.mancity.com/news/mens</p></li>
<li><p>Club, L. F. (2022). First Team. Retrieved from Leicester Football Club: https://www.lcfc.com/matches/reports</p></li>
<li><p>Club, T. A. (2022). NEWS. Retrieved from Arsenal: https://www.arsenal.com/news?field_article_arsenal_team_value=men&amp;revision_information=&amp;page=1</p></li>
<li><p>Everton. (2022). Results. Retrieved from Everton: https://www.evertonfc.com/results</p></li>
<li><p>United, N. (2022). Our Results. Retrieved from Newcastle United: https://www.nufc.co.uk/matches/first-team/#results</p></li>
<li><p>United, W. H. (2022). Fixtures. Retrieved from West Ham United: https://www.whufc.com/fixture/list/713</p></li>
</ul>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/DACSS_601_August2022_v2" data-repo-id="R_kgDOH1g84A" data-category="Blog" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb59" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Textual Analysis"</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Ethan Campbell"</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Analyzing English premier league team's and how their langauge chagnes during the course of the season"</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "10/30/2022"</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a><span class="fu"># Loading Packages</span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(polite)</span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb59-29"><a href="#cb59-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb59-30"><a href="#cb59-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda.textplots)</span>
<span id="cb59-31"><a href="#cb59-31" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-32"><a href="#cb59-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-33"><a href="#cb59-33" aria-hidden="true" tabindex="-1"></a><span class="fu"># Data Sources</span></span>
<span id="cb59-34"><a href="#cb59-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-35"><a href="#cb59-35" aria-hidden="true" tabindex="-1"></a>There are 6 teams included in this study 2 from the top of the table 2 from the middle and 2 from the bottom. They are already in that order from top to bottom. Data needed to be web scraped from a page called match report. This page was located on each teams official website and this page included information about the match, statistics, and quotes from both the players and the managers.</span>
<span id="cb59-36"><a href="#cb59-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-37"><a href="#cb59-37" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Arsenal Data</span><span class="co">](https://www.arsenal.com/news?field_article_arsenal_team_value=men&amp;revision_information=&amp;page=1)</span></span>
<span id="cb59-38"><a href="#cb59-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-39"><a href="#cb59-39" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Manchester City Data</span><span class="co">](https://www.mancity.com/news/mens)</span></span>
<span id="cb59-40"><a href="#cb59-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-41"><a href="#cb59-41" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Newcastle United Data</span><span class="co">](https://www.nufc.co.uk/matches/first-team/#results)</span></span>
<span id="cb59-42"><a href="#cb59-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-43"><a href="#cb59-43" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Everton Data</span><span class="co">](https://www.evertonfc.com/results)</span></span>
<span id="cb59-44"><a href="#cb59-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-45"><a href="#cb59-45" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Leicester Data</span><span class="co">](https://www.lcfc.com/matches/reports)</span></span>
<span id="cb59-46"><a href="#cb59-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-47"><a href="#cb59-47" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">West Ham United Data</span><span class="co">](https://www.whufc.com/fixture/list/713)</span></span>
<span id="cb59-48"><a href="#cb59-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-49"><a href="#cb59-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-50"><a href="#cb59-50" aria-hidden="true" tabindex="-1"></a><span class="fu"># Analytical planning</span></span>
<span id="cb59-51"><a href="#cb59-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-54"><a href="#cb59-54" aria-hidden="true" tabindex="-1"></a><span class="in">```{mermaid}</span></span>
<span id="cb59-55"><a href="#cb59-55" aria-hidden="true" tabindex="-1"></a>flowchart LR</span>
<span id="cb59-56"><a href="#cb59-56" aria-hidden="true" tabindex="-1"></a>  A[Web Scrape] --&gt; B(Preprocess)</span>
<span id="cb59-57"><a href="#cb59-57" aria-hidden="true" tabindex="-1"></a>  B --&gt; C[Organize]</span>
<span id="cb59-58"><a href="#cb59-58" aria-hidden="true" tabindex="-1"></a>  C --&gt; D(TDM)</span>
<span id="cb59-59"><a href="#cb59-59" aria-hidden="true" tabindex="-1"></a>  D --&gt; E[Sentiment Analysis]</span>
<span id="cb59-60"><a href="#cb59-60" aria-hidden="true" tabindex="-1"></a>  E --&gt; F[Research Question <span class="dv">1</span>]</span>
<span id="cb59-61"><a href="#cb59-61" aria-hidden="true" tabindex="-1"></a>  F --&gt; G{Conclusion}</span>
<span id="cb59-62"><a href="#cb59-62" aria-hidden="true" tabindex="-1"></a>  D --&gt; H[DTM]</span>
<span id="cb59-63"><a href="#cb59-63" aria-hidden="true" tabindex="-1"></a>  H --&gt; I[Document Similarity]</span>
<span id="cb59-64"><a href="#cb59-64" aria-hidden="true" tabindex="-1"></a>  I --&gt; J[Research Question <span class="dv">2</span>]</span>
<span id="cb59-65"><a href="#cb59-65" aria-hidden="true" tabindex="-1"></a>  J --&gt; G{Conclusion}</span>
<span id="cb59-66"><a href="#cb59-66" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-67"><a href="#cb59-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-68"><a href="#cb59-68" aria-hidden="true" tabindex="-1"></a><span class="fu"># Web Scraping/Tidying data</span></span>
<span id="cb59-69"><a href="#cb59-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-70"><a href="#cb59-70" aria-hidden="true" tabindex="-1"></a>Here is the beginning of the web scraping process. I was unable to find a way to make the web scraper search for one object then proceed to the next page where you could then scrape whats inside. For the time being I decided to manually web scrape the information. The tidying process is the real issue as there are many unwanted variables inside. For example there are a lot of /n's.</span>
<span id="cb59-71"><a href="#cb59-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-72"><a href="#cb59-72" aria-hidden="true" tabindex="-1"></a><span class="fu">## Arsenal</span></span>
<span id="cb59-73"><a href="#cb59-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-74"><a href="#cb59-74" aria-hidden="true" tabindex="-1"></a>This data was scraped from the official Arsenal page. This scraping pulled in all the matches that have been played this season thus far and will continue to grow as the season progresses. Within this scraped data there was a lot that needed to get removed which included things like /n, \n, random number strings, and long sentences talking about buying Arsenal pictures. After using stringr to clean up the data we unlisted it and started moving towards a corpus. There is still some tidying that needs to be done to remove some -'s and to make some spaces at certain portion of the document. After cleaning this data was put into a character vector and then put into a corpus which can be found at the bottom of this code. I added in the name of the team and the match number to the table and after that we can start looking at what the data means. So far 7 matches have been played and the word count was kept fairly consistent until match 5</span>
<span id="cb59-75"><a href="#cb59-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-78"><a href="#cb59-78" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-79"><a href="#cb59-79" aria-hidden="true" tabindex="-1"></a><span class="do">## The function is working at reading in the data however. parts of the cleaning process are failing and I am thinking this is because I am not specifying the create values</span></span>
<span id="cb59-80"><a href="#cb59-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-81"><a href="#cb59-81" aria-hidden="true" tabindex="-1"></a><span class="co"># I need to remove punct, capitalization, stopwords like (the, a ',') finish repeating the process to all teams and adjusting the function until it grabs every single problem once this is complete we should be able to tokenize then corpus and work with the data</span></span>
<span id="cb59-82"><a href="#cb59-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-83"><a href="#cb59-83" aria-hidden="true" tabindex="-1"></a>Web_scrape_function_Arsenal <span class="ot">&lt;-</span> <span class="cf">function</span>(url,css,data) { <span class="co"># creating function to repeat web scrape </span></span>
<span id="cb59-84"><a href="#cb59-84" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url) </span>
<span id="cb59-85"><a href="#cb59-85" aria-hidden="true" tabindex="-1"></a>css <span class="ot">&lt;-</span> (<span class="st">".article-body"</span>)</span>
<span id="cb59-86"><a href="#cb59-86" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> url <span class="sc">%&gt;%</span> </span>
<span id="cb59-87"><a href="#cb59-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="at">css =</span> css) <span class="sc">%&gt;%</span></span>
<span id="cb59-88"><a href="#cb59-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb59-89"><a href="#cb59-89" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(data, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-90"><a href="#cb59-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"/n"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-91"><a href="#cb59-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"/n"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-92"><a href="#cb59-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-93"><a href="#cb59-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">" - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-94"><a href="#cb59-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[0-9] of [1234567890]To buy official Arsenal pictures visit Arsenal Pics"</span>, <span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-95"><a href="#cb59-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[1234567890] of 42To buy official Arsenal pictures visit Arsenal Pics"</span>, <span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-96"><a href="#cb59-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[1234567890] of 29To buy official Arsenal pictures visit Arsenal Pics"</span>, <span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-97"><a href="#cb59-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[1234567890] of 45To buy official Arsenal pictures visit Arsenal Pics"</span>, <span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-98"><a href="#cb59-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[1234567890] of 38To buy official Arsenal pictures visit Arsenal Pics"</span>, <span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-99"><a href="#cb59-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"[1234567890] of 32To buy official Arsenal pictures visit Arsenal Pics"</span>, <span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-100"><a href="#cb59-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove</span>(<span class="st">"Play videoWatch Arsenal video online05:24Highlights | Crystal Palace 0-2 Arsenal - bitesize"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-101"><a href="#cb59-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove</span>(<span class="st">"111111111122222222223333333333444"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-102"><a href="#cb59-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-103"><a href="#cb59-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-104"><a href="#cb59-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-105"><a href="#cb59-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb59-106"><a href="#cb59-106" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-107"><a href="#cb59-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-108"><a href="#cb59-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-109"><a href="#cb59-109" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/fixture/arsenal/2022-Aug-05/crystal-palace-0-2-arsenal-match-report"</span></span>
<span id="cb59-110"><a href="#cb59-110" aria-hidden="true" tabindex="-1"></a>Match_1 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb59-111"><a href="#cb59-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-112"><a href="#cb59-112" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/fixture/arsenal/2022-Aug-13/arsenal-4-2-leicester-city-match-report"</span></span>
<span id="cb59-113"><a href="#cb59-113" aria-hidden="true" tabindex="-1"></a>Match_2 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb59-114"><a href="#cb59-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-115"><a href="#cb59-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-116"><a href="#cb59-116" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/premier-league-match-report-bournemouth-odegaard-saliba-jesus"</span></span>
<span id="cb59-117"><a href="#cb59-117" aria-hidden="true" tabindex="-1"></a>Match_3 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb59-118"><a href="#cb59-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-119"><a href="#cb59-119" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/premier-league-match-report-fulham-odegaard-gabriel"</span></span>
<span id="cb59-120"><a href="#cb59-120" aria-hidden="true" tabindex="-1"></a>Match_4 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb59-121"><a href="#cb59-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-122"><a href="#cb59-122" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/match-report-aston-villa-premier-league-martinelli-jesus"</span></span>
<span id="cb59-123"><a href="#cb59-123" aria-hidden="true" tabindex="-1"></a>Match_5 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb59-124"><a href="#cb59-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-125"><a href="#cb59-125" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/fixture/arsenal/2022-Sep-04/manchester-united-3-1-arsenal-match-report"</span></span>
<span id="cb59-126"><a href="#cb59-126" aria-hidden="true" tabindex="-1"></a>Match_6 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb59-127"><a href="#cb59-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-128"><a href="#cb59-128" aria-hidden="true" tabindex="-1"></a>Arsenal_url <span class="ot">&lt;-</span> <span class="st">"https://www.arsenal.com/premier-league-match-report-brentford-saliba-jesus-vieira"</span></span>
<span id="cb59-129"><a href="#cb59-129" aria-hidden="true" tabindex="-1"></a>Match_7 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Arsenal</span>(Arsenal_url)</span>
<span id="cb59-130"><a href="#cb59-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-131"><a href="#cb59-131" aria-hidden="true" tabindex="-1"></a>Arsenal <span class="ot">&lt;-</span> <span class="fu">c</span>(Match_1, Match_2, Match_3, Match_4, Match_5, Match_6, Match_7)</span>
<span id="cb59-132"><a href="#cb59-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-133"><a href="#cb59-133" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(Arsenal)</span>
<span id="cb59-134"><a href="#cb59-134" aria-hidden="true" tabindex="-1"></a>Arsenal_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(Arsenal)</span>
<span id="cb59-135"><a href="#cb59-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-136"><a href="#cb59-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-137"><a href="#cb59-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-138"><a href="#cb59-138" aria-hidden="true" tabindex="-1"></a>Arsenal_corpus_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(Arsenal_corpus)</span>
<span id="cb59-139"><a href="#cb59-139" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(Arsenal_corpus) <span class="ot">&lt;-</span> Arsenal_corpus_summary</span>
<span id="cb59-140"><a href="#cb59-140" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding team name</span></span>
<span id="cb59-141"><a href="#cb59-141" aria-hidden="true" tabindex="-1"></a>Arsenal_corpus_summary<span class="sc">$</span>Team <span class="ot">&lt;-</span> <span class="st">"Arsenal"</span></span>
<span id="cb59-142"><a href="#cb59-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-143"><a href="#cb59-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-144"><a href="#cb59-144" aria-hidden="true" tabindex="-1"></a><span class="co"># create a Match number</span></span>
<span id="cb59-145"><a href="#cb59-145" aria-hidden="true" tabindex="-1"></a>Arsenal_corpus_summary<span class="sc">$</span>Match <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Arsenal_corpus_summary<span class="sc">$</span>Text, <span class="st">"[0-9]+"</span>))</span>
<span id="cb59-146"><a href="#cb59-146" aria-hidden="true" tabindex="-1"></a>Arsenal_corpus_summary</span>
<span id="cb59-147"><a href="#cb59-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-148"><a href="#cb59-148" aria-hidden="true" tabindex="-1"></a><span class="co"># Document feature matrix</span></span>
<span id="cb59-149"><a href="#cb59-149" aria-hidden="true" tabindex="-1"></a>Arsenal_dfm <span class="ot">&lt;-</span> <span class="fu">dfm</span>(<span class="fu">tokens</span>(Arsenal_corpus,</span>
<span id="cb59-150"><a href="#cb59-150" aria-hidden="true" tabindex="-1"></a>                          <span class="at">remove_punct =</span> <span class="cn">TRUE</span>,</span>
<span id="cb59-151"><a href="#cb59-151" aria-hidden="true" tabindex="-1"></a>                          <span class="at">remove_symbols =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-152"><a href="#cb59-152" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">dfm</span>(<span class="at">tolower =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-153"><a href="#cb59-153" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">dfm_remove</span>(<span class="fu">stopwords</span>(<span class="st">'english'</span>)))</span>
<span id="cb59-154"><a href="#cb59-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-155"><a href="#cb59-155" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span>(Arsenal_dfm)</span>
<span id="cb59-156"><a href="#cb59-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-157"><a href="#cb59-157" aria-hidden="true" tabindex="-1"></a><span class="fu">topfeatures</span>(Arsenal_dfm, <span class="dv">20</span>)</span>
<span id="cb59-158"><a href="#cb59-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-159"><a href="#cb59-159" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb59-160"><a href="#cb59-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-161"><a href="#cb59-161" aria-hidden="true" tabindex="-1"></a><span class="co"># draw the wordcloud</span></span>
<span id="cb59-162"><a href="#cb59-162" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(Arsenal_dfm, <span class="at">min_count =</span> <span class="dv">20</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span>
<span id="cb59-163"><a href="#cb59-163" aria-hidden="true" tabindex="-1"></a><span class="co"># comparing the first and last game</span></span>
<span id="cb59-164"><a href="#cb59-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-165"><a href="#cb59-165" aria-hidden="true" tabindex="-1"></a>Arsenal_small_dfm <span class="ot">&lt;-</span> Arsenal_dfm[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">7</span>),]</span>
<span id="cb59-166"><a href="#cb59-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-167"><a href="#cb59-167" aria-hidden="true" tabindex="-1"></a><span class="co"># draw the wordcloud</span></span>
<span id="cb59-168"><a href="#cb59-168" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(Arsenal_small_dfm, <span class="at">comparison =</span> <span class="cn">TRUE</span>, <span class="at">min_count =</span> <span class="dv">5</span>, <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span>
<span id="cb59-169"><a href="#cb59-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-170"><a href="#cb59-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-171"><a href="#cb59-171" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a table to show the highest frequncy items and then ranking them</span></span>
<span id="cb59-172"><a href="#cb59-172" aria-hidden="true" tabindex="-1"></a>word_counts <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">sort</span>(<span class="fu">colSums</span>(Arsenal_dfm),<span class="at">dec=</span>T))</span>
<span id="cb59-173"><a href="#cb59-173" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(word_counts) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Frequency"</span>)</span>
<span id="cb59-174"><a href="#cb59-174" aria-hidden="true" tabindex="-1"></a>word_counts<span class="sc">$</span>Rank <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(Arsenal_dfm))</span>
<span id="cb59-175"><a href="#cb59-175" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(word_counts)</span>
<span id="cb59-176"><a href="#cb59-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-177"><a href="#cb59-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-178"><a href="#cb59-178" aria-hidden="true" tabindex="-1"></a><span class="co"># zipf's law is really quite accurate as the data does fall off really quickly</span></span>
<span id="cb59-179"><a href="#cb59-179" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(word_counts, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Rank, <span class="at">y =</span> Frequency)) <span class="sc">+</span> </span>
<span id="cb59-180"><a href="#cb59-180" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb59-181"><a href="#cb59-181" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Zipf's Law"</span>, <span class="at">x =</span> <span class="st">"Rank"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>) <span class="sc">+</span> </span>
<span id="cb59-182"><a href="#cb59-182" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb59-183"><a href="#cb59-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-184"><a href="#cb59-184" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(Arsenal_dfm, <span class="at">min_termfreq =</span> <span class="dv">10</span>)</span>
<span id="cb59-185"><a href="#cb59-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-186"><a href="#cb59-186" aria-hidden="true" tabindex="-1"></a><span class="co"># trim based on the proportion of documents that the feature appears in; here, </span></span>
<span id="cb59-187"><a href="#cb59-187" aria-hidden="true" tabindex="-1"></a><span class="co"># the feature needs to appear in more than 10% of documents (chapters)</span></span>
<span id="cb59-188"><a href="#cb59-188" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(Arsenal_smaller_dfm, <span class="at">min_docfreq =</span> <span class="fl">0.1</span>, <span class="at">docfreq_type =</span> <span class="st">"prop"</span>)</span>
<span id="cb59-189"><a href="#cb59-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-190"><a href="#cb59-190" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm</span>
<span id="cb59-191"><a href="#cb59-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-192"><a href="#cb59-192" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(Arsenal_smaller_dfm, <span class="at">min_count =</span> <span class="dv">50</span>,</span>
<span id="cb59-193"><a href="#cb59-193" aria-hidden="true" tabindex="-1"></a>                   <span class="at">random_order =</span> <span class="cn">FALSE</span>)</span>
<span id="cb59-194"><a href="#cb59-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-195"><a href="#cb59-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-196"><a href="#cb59-196" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating the FCM</span></span>
<span id="cb59-197"><a href="#cb59-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-198"><a href="#cb59-198" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(Arsenal_dfm, <span class="at">min_termfreq =</span> <span class="dv">20</span>)</span>
<span id="cb59-199"><a href="#cb59-199" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm <span class="ot">&lt;-</span> <span class="fu">dfm_trim</span>(Arsenal_smaller_dfm, <span class="at">min_docfreq =</span> .<span class="dv">3</span>, <span class="at">docfreq_type =</span> <span class="st">"prop"</span>)</span>
<span id="cb59-200"><a href="#cb59-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-201"><a href="#cb59-201" aria-hidden="true" tabindex="-1"></a><span class="co"># create fcm from dfm</span></span>
<span id="cb59-202"><a href="#cb59-202" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm <span class="ot">&lt;-</span> <span class="fu">fcm</span>(Arsenal_smaller_dfm)</span>
<span id="cb59-203"><a href="#cb59-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-204"><a href="#cb59-204" aria-hidden="true" tabindex="-1"></a><span class="co"># check the dimensions (i.e., the number of rows and the number of columnns)</span></span>
<span id="cb59-205"><a href="#cb59-205" aria-hidden="true" tabindex="-1"></a><span class="co"># of the matrix we created</span></span>
<span id="cb59-206"><a href="#cb59-206" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(Arsenal_smaller_dfm)</span>
<span id="cb59-207"><a href="#cb59-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-208"><a href="#cb59-208" aria-hidden="true" tabindex="-1"></a><span class="co"># pull the top features</span></span>
<span id="cb59-209"><a href="#cb59-209" aria-hidden="true" tabindex="-1"></a>myFeatures <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">topfeatures</span>(Arsenal_smaller_dfm, <span class="dv">30</span>))</span>
<span id="cb59-210"><a href="#cb59-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-211"><a href="#cb59-211" aria-hidden="true" tabindex="-1"></a><span class="co"># retain only those top features as part of our matrix</span></span>
<span id="cb59-212"><a href="#cb59-212" aria-hidden="true" tabindex="-1"></a>Arsenal_smaller_dfm <span class="ot">&lt;-</span> <span class="fu">fcm_select</span>(Arsenal_smaller_dfm, <span class="at">pattern =</span> myFeatures, <span class="at">selection =</span> <span class="st">"keep"</span>)</span>
<span id="cb59-213"><a href="#cb59-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-214"><a href="#cb59-214" aria-hidden="true" tabindex="-1"></a><span class="co"># check dimensions</span></span>
<span id="cb59-215"><a href="#cb59-215" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(Arsenal_smaller_dfm)</span>
<span id="cb59-216"><a href="#cb59-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-217"><a href="#cb59-217" aria-hidden="true" tabindex="-1"></a><span class="co"># compute size weight for vertices in network</span></span>
<span id="cb59-218"><a href="#cb59-218" aria-hidden="true" tabindex="-1"></a>size <span class="ot">&lt;-</span> <span class="fu">log</span>(<span class="fu">colSums</span>(Arsenal_smaller_dfm))</span>
<span id="cb59-219"><a href="#cb59-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-220"><a href="#cb59-220" aria-hidden="true" tabindex="-1"></a><span class="co"># create plot</span></span>
<span id="cb59-221"><a href="#cb59-221" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_network</span>(Arsenal_smaller_dfm, <span class="at">vertex_size =</span> size <span class="sc">/</span> <span class="fu">max</span>(size) <span class="sc">*</span> <span class="dv">3</span>)</span>
<span id="cb59-222"><a href="#cb59-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-223"><a href="#cb59-223" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-224"><a href="#cb59-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-225"><a href="#cb59-225" aria-hidden="true" tabindex="-1"></a><span class="fu">## Manchester City</span></span>
<span id="cb59-226"><a href="#cb59-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-227"><a href="#cb59-227" aria-hidden="true" tabindex="-1"></a>Manchester Cty followed a very similar path as Arsenal as this one also required a lot cleaning with stringr however, it had a few unique moments. For example, I had to clean () which were all over the place in the original data. Other than this portion the cleaning process was the same and this will also needs some additional cleaning. I was able to move this into the corpus as well and we noticed that it had more sentences than Arsenal. However, this could be do to the spacing problem that I mentioned above more studying will need to be done after that change has been made. This team also had a more consistent amount of words and unique words.</span>
<span id="cb59-228"><a href="#cb59-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-231"><a href="#cb59-231" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-232"><a href="#cb59-232" aria-hidden="true" tabindex="-1"></a>Web_scrape_function_mancity <span class="ot">&lt;-</span> <span class="cf">function</span>(url,css,data) { <span class="co"># creating function to repeat web scrape </span></span>
<span id="cb59-233"><a href="#cb59-233" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url) </span>
<span id="cb59-234"><a href="#cb59-234" aria-hidden="true" tabindex="-1"></a>css <span class="ot">&lt;-</span> (<span class="st">".article-body__article-text"</span>)</span>
<span id="cb59-235"><a href="#cb59-235" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> url <span class="sc">%&gt;%</span> </span>
<span id="cb59-236"><a href="#cb59-236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="at">css =</span> css) <span class="sc">%&gt;%</span></span>
<span id="cb59-237"><a href="#cb59-237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb59-238"><a href="#cb59-238" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(data, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-239"><a href="#cb59-239" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"/n"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-240"><a href="#cb59-240" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"/n"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-241"><a href="#cb59-241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-242"><a href="#cb59-242" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">" - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-243"><a href="#cb59-243" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-244"><a href="#cb59-244" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-245"><a href="#cb59-245" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-246"><a href="#cb59-246" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb59-247"><a href="#cb59-247" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-248"><a href="#cb59-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-249"><a href="#cb59-249" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/west-ham-v-manchester-city-premier-league-match-report-63795480"</span></span>
<span id="cb59-250"><a href="#cb59-250" aria-hidden="true" tabindex="-1"></a>Match_1 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb59-251"><a href="#cb59-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-252"><a href="#cb59-252" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/man-city-bournemouth-premier-league-match-report-63795987"</span></span>
<span id="cb59-253"><a href="#cb59-253" aria-hidden="true" tabindex="-1"></a>Match_2 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb59-254"><a href="#cb59-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-255"><a href="#cb59-255" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/newcastle-v-manchester-city-match-report-63796690"</span></span>
<span id="cb59-256"><a href="#cb59-256" aria-hidden="true" tabindex="-1"></a>Match_3 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb59-257"><a href="#cb59-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-258"><a href="#cb59-258" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/man-city-crystal-palace-match-report-63797204"</span></span>
<span id="cb59-259"><a href="#cb59-259" aria-hidden="true" tabindex="-1"></a>Match_4 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb59-260"><a href="#cb59-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-261"><a href="#cb59-261" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/manchester-city-v-nottingham-forest-match-report-31-august-63797573"</span></span>
<span id="cb59-262"><a href="#cb59-262" aria-hidden="true" tabindex="-1"></a>Match_5 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb59-263"><a href="#cb59-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-264"><a href="#cb59-264" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/aston-villa-manchester-city-premier-league-match-report-63797816"</span></span>
<span id="cb59-265"><a href="#cb59-265" aria-hidden="true" tabindex="-1"></a>Match_6 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb59-266"><a href="#cb59-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-267"><a href="#cb59-267" aria-hidden="true" tabindex="-1"></a>mancity_url <span class="ot">&lt;-</span> <span class="st">"https://www.mancity.com/news/mens/wolves-manchester-city-away-premier-league-2022-match-report-63799002"</span></span>
<span id="cb59-268"><a href="#cb59-268" aria-hidden="true" tabindex="-1"></a>Match_7 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_mancity</span>(mancity_url)</span>
<span id="cb59-269"><a href="#cb59-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-270"><a href="#cb59-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-271"><a href="#cb59-271" aria-hidden="true" tabindex="-1"></a>ManCity <span class="ot">&lt;-</span> <span class="fu">c</span>(Match_1, Match_2, Match_3, Match_4, Match_5, Match_6, Match_7)</span>
<span id="cb59-272"><a href="#cb59-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-273"><a href="#cb59-273" aria-hidden="true" tabindex="-1"></a>Mancity_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(ManCity)</span>
<span id="cb59-274"><a href="#cb59-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-275"><a href="#cb59-275" aria-hidden="true" tabindex="-1"></a>Mancity_corpus_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(Mancity_corpus)</span>
<span id="cb59-276"><a href="#cb59-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-277"><a href="#cb59-277" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a Team Name </span></span>
<span id="cb59-278"><a href="#cb59-278" aria-hidden="true" tabindex="-1"></a>Mancity_corpus_summary<span class="sc">$</span>Team <span class="ot">&lt;-</span> <span class="st">"Manchester City"</span></span>
<span id="cb59-279"><a href="#cb59-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-280"><a href="#cb59-280" aria-hidden="true" tabindex="-1"></a><span class="co"># create a Match number</span></span>
<span id="cb59-281"><a href="#cb59-281" aria-hidden="true" tabindex="-1"></a>Mancity_corpus_summary<span class="sc">$</span>Match <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Mancity_corpus_summary<span class="sc">$</span>Text, <span class="st">"[0-9]+"</span>))</span>
<span id="cb59-282"><a href="#cb59-282" aria-hidden="true" tabindex="-1"></a>Mancity_corpus_summary</span>
<span id="cb59-283"><a href="#cb59-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-284"><a href="#cb59-284" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-285"><a href="#cb59-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-286"><a href="#cb59-286" aria-hidden="true" tabindex="-1"></a><span class="fu">## Newcastle united</span></span>
<span id="cb59-287"><a href="#cb59-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-288"><a href="#cb59-288" aria-hidden="true" tabindex="-1"></a>This is the start of the middle table teams which I am exciting to see how they differ the two top tier teams. This data was scraped from the Newcastle official website and the cleaning process was pretty straight forward on this one as there was nothing unique that needed to be changed. One noticeable difference between this team and the top teams is the amount of words used in match reports as this one is about half of the first two teams. This might be unique to just this team or maybe the lower in the league the team is the less they will write about their performance?</span>
<span id="cb59-289"><a href="#cb59-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-292"><a href="#cb59-292" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-293"><a href="#cb59-293" aria-hidden="true" tabindex="-1"></a><span class="co"># New Castle United first match against nottingham forest</span></span>
<span id="cb59-294"><a href="#cb59-294" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 rule for 1 bots crawl delay 5 seconds, scrapable</span></span>
<span id="cb59-295"><a href="#cb59-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-296"><a href="#cb59-296" aria-hidden="true" tabindex="-1"></a><span class="fu">bow</span>(<span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/newcastle-united-v-nottingham-forest/"</span>)</span>
<span id="cb59-297"><a href="#cb59-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-298"><a href="#cb59-298" aria-hidden="true" tabindex="-1"></a>Web_scrape_function_Newcastle <span class="ot">&lt;-</span> <span class="cf">function</span>(url,css,data) { <span class="co"># creating function to repeat web scrape </span></span>
<span id="cb59-299"><a href="#cb59-299" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url) </span>
<span id="cb59-300"><a href="#cb59-300" aria-hidden="true" tabindex="-1"></a>css <span class="ot">&lt;-</span> (<span class="st">".article__body"</span>)</span>
<span id="cb59-301"><a href="#cb59-301" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> url <span class="sc">%&gt;%</span> </span>
<span id="cb59-302"><a href="#cb59-302" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="at">css =</span> css) <span class="sc">%&gt;%</span></span>
<span id="cb59-303"><a href="#cb59-303" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb59-304"><a href="#cb59-304" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(data, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-305"><a href="#cb59-305" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"/n"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-306"><a href="#cb59-306" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"/n"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-307"><a href="#cb59-307" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-308"><a href="#cb59-308" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">" - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-309"><a href="#cb59-309" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-310"><a href="#cb59-310" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-311"><a href="#cb59-311" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\"</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-312"><a href="#cb59-312" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-313"><a href="#cb59-313" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb59-314"><a href="#cb59-314" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-315"><a href="#cb59-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-316"><a href="#cb59-316" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/newcastle-united-v-nottingham-forest/"</span></span>
<span id="cb59-317"><a href="#cb59-317" aria-hidden="true" tabindex="-1"></a>Match_1 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb59-318"><a href="#cb59-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-319"><a href="#cb59-319" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/brighton-and-hove-albion-v-newcastle-united/"</span></span>
<span id="cb59-320"><a href="#cb59-320" aria-hidden="true" tabindex="-1"></a>Match_2 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb59-321"><a href="#cb59-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-322"><a href="#cb59-322" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/newcastle-united-v-manchester-city/"</span></span>
<span id="cb59-323"><a href="#cb59-323" aria-hidden="true" tabindex="-1"></a>Match_3 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb59-324"><a href="#cb59-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-325"><a href="#cb59-325" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/wolverhampton-wanderers-v-newcastle-united/"</span></span>
<span id="cb59-326"><a href="#cb59-326" aria-hidden="true" tabindex="-1"></a>Match_4 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb59-327"><a href="#cb59-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-328"><a href="#cb59-328" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/liverpool-v-newcastle-united/"</span></span>
<span id="cb59-329"><a href="#cb59-329" aria-hidden="true" tabindex="-1"></a>Match_5 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb59-330"><a href="#cb59-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-331"><a href="#cb59-331" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/newcastle-united-v-crystal-palace/"</span></span>
<span id="cb59-332"><a href="#cb59-332" aria-hidden="true" tabindex="-1"></a>Match_6 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb59-333"><a href="#cb59-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-334"><a href="#cb59-334" aria-hidden="true" tabindex="-1"></a>Newcastle_url <span class="ot">&lt;-</span> <span class="st">"https://www.nufc.co.uk/matches/first-team/2022-23/newcastle-united-v-bournemouth/"</span></span>
<span id="cb59-335"><a href="#cb59-335" aria-hidden="true" tabindex="-1"></a>Match_7 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Newcastle</span>(Newcastle_url)</span>
<span id="cb59-336"><a href="#cb59-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-337"><a href="#cb59-337" aria-hidden="true" tabindex="-1"></a>NewCastle <span class="ot">&lt;-</span> <span class="fu">c</span>(Match_1, Match_2, Match_3, Match_4, Match_5, Match_6, Match_7)</span>
<span id="cb59-338"><a href="#cb59-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-339"><a href="#cb59-339" aria-hidden="true" tabindex="-1"></a>Newcastle_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(NewCastle)</span>
<span id="cb59-340"><a href="#cb59-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-341"><a href="#cb59-341" aria-hidden="true" tabindex="-1"></a>Newcastle_corpus_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(Newcastle_corpus)</span>
<span id="cb59-342"><a href="#cb59-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-343"><a href="#cb59-343" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a team name</span></span>
<span id="cb59-344"><a href="#cb59-344" aria-hidden="true" tabindex="-1"></a>Newcastle_corpus_summary<span class="sc">$</span>Team <span class="ot">&lt;-</span> <span class="st">"New Castle"</span></span>
<span id="cb59-345"><a href="#cb59-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-346"><a href="#cb59-346" aria-hidden="true" tabindex="-1"></a><span class="co"># create a Match number</span></span>
<span id="cb59-347"><a href="#cb59-347" aria-hidden="true" tabindex="-1"></a>Newcastle_corpus_summary<span class="sc">$</span>Match <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Newcastle_corpus_summary<span class="sc">$</span>Text, <span class="st">"[0-9]+"</span>))</span>
<span id="cb59-348"><a href="#cb59-348" aria-hidden="true" tabindex="-1"></a>Newcastle_corpus_summary</span>
<span id="cb59-349"><a href="#cb59-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-350"><a href="#cb59-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-351"><a href="#cb59-351" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-352"><a href="#cb59-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-353"><a href="#cb59-353" aria-hidden="true" tabindex="-1"></a><span class="fu">## Everton</span></span>
<span id="cb59-354"><a href="#cb59-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-355"><a href="#cb59-355" aria-hidden="true" tabindex="-1"></a>Was going to use Aston Villa originally however, the web scrapping was not returning the correct information so we switched to Everton which is running much more smoothly. This is the second team on the list of middle-tier teams and their cleaning process was about the same as the last team however, Aston Villa's website was really hard to scrape from. Looking at the corpus information for Everton we notice an increase in words compared to the last team however, there is one match that is significantly higher than the rest. This is match 2 which was against Aston Villa and I am currently unsure why there is such a difference between these amounts.</span>
<span id="cb59-356"><a href="#cb59-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-359"><a href="#cb59-359" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-360"><a href="#cb59-360" aria-hidden="true" tabindex="-1"></a><span class="co"># Everton vs Chelsea</span></span>
<span id="cb59-361"><a href="#cb59-361" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 rule for 1 bots crawl delay 5 seconds, scrapable</span></span>
<span id="cb59-362"><a href="#cb59-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-363"><a href="#cb59-363" aria-hidden="true" tabindex="-1"></a><span class="fu">bow</span>(<span class="st">"https://www.evertonfc.com/match/74913/everton-chelsea#report"</span>)</span>
<span id="cb59-364"><a href="#cb59-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-365"><a href="#cb59-365" aria-hidden="true" tabindex="-1"></a>Web_scrape_function_Everton <span class="ot">&lt;-</span> <span class="cf">function</span>(url,css,data) { <span class="co"># creating function to repeat web scrape </span></span>
<span id="cb59-366"><a href="#cb59-366" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url) </span>
<span id="cb59-367"><a href="#cb59-367" aria-hidden="true" tabindex="-1"></a>css <span class="ot">&lt;-</span> (<span class="st">".article__body.mc-report__body.js-article-body"</span>)</span>
<span id="cb59-368"><a href="#cb59-368" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> url <span class="sc">%&gt;%</span> </span>
<span id="cb59-369"><a href="#cb59-369" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="at">css =</span> css) <span class="sc">%&gt;%</span></span>
<span id="cb59-370"><a href="#cb59-370" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb59-371"><a href="#cb59-371" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(data, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-372"><a href="#cb59-372" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"/n"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-373"><a href="#cb59-373" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"/n"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-374"><a href="#cb59-374" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-375"><a href="#cb59-375" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">" - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-376"><a href="#cb59-376" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-377"><a href="#cb59-377" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-378"><a href="#cb59-378" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\"</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-379"><a href="#cb59-379" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-380"><a href="#cb59-380" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb59-381"><a href="#cb59-381" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-382"><a href="#cb59-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-383"><a href="#cb59-383" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span> <span class="st">"https://www.evertonfc.com/match/74913/everton-chelsea#report"</span></span>
<span id="cb59-384"><a href="#cb59-384" aria-hidden="true" tabindex="-1"></a>Match_1 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb59-385"><a href="#cb59-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-386"><a href="#cb59-386" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span> <span class="st">"https://www.evertonfc.com/match/74922/aston-villa-everton#report"</span></span>
<span id="cb59-387"><a href="#cb59-387" aria-hidden="true" tabindex="-1"></a>Match_2 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb59-388"><a href="#cb59-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-389"><a href="#cb59-389" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span> <span class="st">"https://www.evertonfc.com/match/74933/everton-nottm-forest#report"</span></span>
<span id="cb59-390"><a href="#cb59-390" aria-hidden="true" tabindex="-1"></a>Match_3 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb59-391"><a href="#cb59-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-392"><a href="#cb59-392" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span><span class="st">"https://www.evertonfc.com/match/74943/brentford-everton#report"</span></span>
<span id="cb59-393"><a href="#cb59-393" aria-hidden="true" tabindex="-1"></a>Match_4 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb59-394"><a href="#cb59-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-395"><a href="#cb59-395" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span> <span class="st">"https://www.evertonfc.com/match/74955/leeds-everton#report"</span></span>
<span id="cb59-396"><a href="#cb59-396" aria-hidden="true" tabindex="-1"></a>Match_5 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb59-397"><a href="#cb59-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-398"><a href="#cb59-398" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span> <span class="st">"https://www.evertonfc.com/match/74965/everton-liverpool#report"</span></span>
<span id="cb59-399"><a href="#cb59-399" aria-hidden="true" tabindex="-1"></a>Match_6 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb59-400"><a href="#cb59-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-401"><a href="#cb59-401" aria-hidden="true" tabindex="-1"></a>Everton_url <span class="ot">&lt;-</span> <span class="st">"https://www.evertonfc.com/match/74985/everton-west-ham#report"</span></span>
<span id="cb59-402"><a href="#cb59-402" aria-hidden="true" tabindex="-1"></a>Match_7 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Everton</span>(Everton_url)</span>
<span id="cb59-403"><a href="#cb59-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-404"><a href="#cb59-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-405"><a href="#cb59-405" aria-hidden="true" tabindex="-1"></a>Everton <span class="ot">&lt;-</span> <span class="fu">c</span>(Match_1, Match_2, Match_3, Match_4, Match_5, Match_6, Match_7)</span>
<span id="cb59-406"><a href="#cb59-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-407"><a href="#cb59-407" aria-hidden="true" tabindex="-1"></a>Everton_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(Everton)</span>
<span id="cb59-408"><a href="#cb59-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-409"><a href="#cb59-409" aria-hidden="true" tabindex="-1"></a>Everton_corpus_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(Everton_corpus)</span>
<span id="cb59-410"><a href="#cb59-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-411"><a href="#cb59-411" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a team name</span></span>
<span id="cb59-412"><a href="#cb59-412" aria-hidden="true" tabindex="-1"></a>Everton_corpus_summary<span class="sc">$</span>Team <span class="ot">&lt;-</span> <span class="st">"Everton"</span></span>
<span id="cb59-413"><a href="#cb59-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-414"><a href="#cb59-414" aria-hidden="true" tabindex="-1"></a><span class="co"># create a match indicator</span></span>
<span id="cb59-415"><a href="#cb59-415" aria-hidden="true" tabindex="-1"></a>Everton_corpus_summary<span class="sc">$</span>Match <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Everton_corpus_summary<span class="sc">$</span>Text, <span class="st">"[0-9]+"</span>))</span>
<span id="cb59-416"><a href="#cb59-416" aria-hidden="true" tabindex="-1"></a>Everton_corpus_summary</span>
<span id="cb59-417"><a href="#cb59-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-418"><a href="#cb59-418" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-419"><a href="#cb59-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-420"><a href="#cb59-420" aria-hidden="true" tabindex="-1"></a><span class="fu">## Leicester</span></span>
<span id="cb59-421"><a href="#cb59-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-422"><a href="#cb59-422" aria-hidden="true" tabindex="-1"></a>This is the start of the bottom tier teams and we start to get a look into teams that are in the relegation zone which means that if they do not start improving their performance they will get moved down to the second league. I am expecting some urgency from this team and I am expecting that each match means a lot more to a team like this where one win can seperate you from staying or getting kicked out of the league. The cleaning process went smoothly with this team but there is deffiently still some work that needs to be done before the real analysis. We noticed that there words used was higher than the two middle teams on average and they had a pretty consistent range.</span>
<span id="cb59-423"><a href="#cb59-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-426"><a href="#cb59-426" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-427"><a href="#cb59-427" aria-hidden="true" tabindex="-1"></a><span class="co"># Leicester against Brentford</span></span>
<span id="cb59-428"><a href="#cb59-428" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 bot 1 rule scrapable 5 second crawl</span></span>
<span id="cb59-429"><a href="#cb59-429" aria-hidden="true" tabindex="-1"></a><span class="fu">bow</span>(<span class="st">"https://www.lcfc.com/news/2729025/city-held-by-bees-in-premier-league-opener/featured"</span>)</span>
<span id="cb59-430"><a href="#cb59-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-431"><a href="#cb59-431" aria-hidden="true" tabindex="-1"></a>Web_scrape_function_Leicester <span class="ot">&lt;-</span> <span class="cf">function</span>(url,css,data) { <span class="co"># creating function to repeat web scrape </span></span>
<span id="cb59-432"><a href="#cb59-432" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url) </span>
<span id="cb59-433"><a href="#cb59-433" aria-hidden="true" tabindex="-1"></a>css <span class="ot">&lt;-</span> (<span class="st">".col-12"</span>)</span>
<span id="cb59-434"><a href="#cb59-434" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> url <span class="sc">%&gt;%</span> </span>
<span id="cb59-435"><a href="#cb59-435" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="at">css =</span> css) <span class="sc">%&gt;%</span></span>
<span id="cb59-436"><a href="#cb59-436" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb59-437"><a href="#cb59-437" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(data, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-438"><a href="#cb59-438" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"/n"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-439"><a href="#cb59-439" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"/n"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-440"><a href="#cb59-440" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-441"><a href="#cb59-441" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">" - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-442"><a href="#cb59-442" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-443"><a href="#cb59-443" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-444"><a href="#cb59-444" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\"</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-445"><a href="#cb59-445" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-446"><a href="#cb59-446" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"More on this story. . . In Photos -"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-447"><a href="#cb59-447" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb59-448"><a href="#cb59-448" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-449"><a href="#cb59-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-450"><a href="#cb59-450" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2729025/city-held-by-bees-in-premier-league-opener/featured"</span></span>
<span id="cb59-451"><a href="#cb59-451" aria-hidden="true" tabindex="-1"></a>Match_1 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb59-452"><a href="#cb59-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-453"><a href="#cb59-453" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2739798/foxes-fall-to-defeat-at-arsenal/featured"</span></span>
<span id="cb59-454"><a href="#cb59-454" aria-hidden="true" tabindex="-1"></a>Match_2 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb59-455"><a href="#cb59-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-456"><a href="#cb59-456" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2751347/saints-take-the-points-on-filbert-way/featured"</span></span>
<span id="cb59-457"><a href="#cb59-457" aria-hidden="true" tabindex="-1"></a>Match_3 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb59-458"><a href="#cb59-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-459"><a href="#cb59-459" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2762326/city-defeated-as-10man-chelsea-win-at-stamford-bridge/featured"</span></span>
<span id="cb59-460"><a href="#cb59-460" aria-hidden="true" tabindex="-1"></a>Match_4 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb59-461"><a href="#cb59-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-462"><a href="#cb59-462" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2774578/man-utd-defeat-for-leicester-on-matchday-five/featured"</span></span>
<span id="cb59-463"><a href="#cb59-463" aria-hidden="true" tabindex="-1"></a>Match_5 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb59-464"><a href="#cb59-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-465"><a href="#cb59-465" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2779658/city-beaten-away-to-brighton/featured"</span></span>
<span id="cb59-466"><a href="#cb59-466" aria-hidden="true" tabindex="-1"></a>Match_6 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb59-467"><a href="#cb59-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-468"><a href="#cb59-468" aria-hidden="true" tabindex="-1"></a>Leicester_url <span class="ot">&lt;-</span> <span class="st">"https://www.lcfc.com/news/2793845/leicester-lose-to-spurs-in-london/featured"</span></span>
<span id="cb59-469"><a href="#cb59-469" aria-hidden="true" tabindex="-1"></a>Match_7 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_Leicester</span>(Leicester_url)</span>
<span id="cb59-470"><a href="#cb59-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-471"><a href="#cb59-471" aria-hidden="true" tabindex="-1"></a>Leicester <span class="ot">&lt;-</span> <span class="fu">c</span>(Match_1, Match_2, Match_3, Match_4, Match_5, Match_6, Match_7)</span>
<span id="cb59-472"><a href="#cb59-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-473"><a href="#cb59-473" aria-hidden="true" tabindex="-1"></a>Leicester_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(Leicester)</span>
<span id="cb59-474"><a href="#cb59-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-475"><a href="#cb59-475" aria-hidden="true" tabindex="-1"></a>Leicester_corpus_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(Leicester_corpus)</span>
<span id="cb59-476"><a href="#cb59-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-477"><a href="#cb59-477" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a team name</span></span>
<span id="cb59-478"><a href="#cb59-478" aria-hidden="true" tabindex="-1"></a>Leicester_corpus_summary<span class="sc">$</span>Team <span class="ot">&lt;-</span> <span class="st">"Leicester"</span></span>
<span id="cb59-479"><a href="#cb59-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-480"><a href="#cb59-480" aria-hidden="true" tabindex="-1"></a><span class="co"># create a match indicator</span></span>
<span id="cb59-481"><a href="#cb59-481" aria-hidden="true" tabindex="-1"></a>Leicester_corpus_summary<span class="sc">$</span>Match <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Leicester_corpus_summary<span class="sc">$</span>Text, <span class="st">"[0-9]+"</span>))</span>
<span id="cb59-482"><a href="#cb59-482" aria-hidden="true" tabindex="-1"></a>Leicester_corpus_summary</span>
<span id="cb59-483"><a href="#cb59-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-484"><a href="#cb59-484" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-485"><a href="#cb59-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-486"><a href="#cb59-486" aria-hidden="true" tabindex="-1"></a><span class="fu">## West Ham United</span></span>
<span id="cb59-487"><a href="#cb59-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-488"><a href="#cb59-488" aria-hidden="true" tabindex="-1"></a>West Ham was fairly straight forward and I was able to clean this one pretty well. There is still some spacing work that needs to be done but that will come at a later stage. When looking at their information we noticed that they use some of the least amount of words when talking about the matches. They also use some of the least unique words so I am interested to break this one down and see if they are mostly talking about certain players performances.</span>
<span id="cb59-489"><a href="#cb59-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-492"><a href="#cb59-492" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb59-493"><a href="#cb59-493" aria-hidden="true" tabindex="-1"></a><span class="co"># West Ham vs Manchester City</span></span>
<span id="cb59-494"><a href="#cb59-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-495"><a href="#cb59-495" aria-hidden="true" tabindex="-1"></a>Web_scrape_function_WestHam <span class="ot">&lt;-</span> <span class="cf">function</span>(url,css,data) { <span class="co"># creating function to repeat web scrape </span></span>
<span id="cb59-496"><a href="#cb59-496" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url) </span>
<span id="cb59-497"><a href="#cb59-497" aria-hidden="true" tabindex="-1"></a>css <span class="ot">&lt;-</span> (<span class="st">".m-article__columns"</span>)</span>
<span id="cb59-498"><a href="#cb59-498" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> url <span class="sc">%&gt;%</span> </span>
<span id="cb59-499"><a href="#cb59-499" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_node</span>(<span class="at">css =</span> css) <span class="sc">%&gt;%</span></span>
<span id="cb59-500"><a href="#cb59-500" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text2</span>()</span>
<span id="cb59-501"><a href="#cb59-501" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(data, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-502"><a href="#cb59-502" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="st">"/n"</span>, <span class="st">"####"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-503"><a href="#cb59-503" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"/n"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-504"><a href="#cb59-504" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-505"><a href="#cb59-505" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">" - "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-506"><a href="#cb59-506" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-507"><a href="#cb59-507" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-508"><a href="#cb59-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\"</span><span class="st">"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-509"><a href="#cb59-509" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"#"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-510"><a href="#cb59-510" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="st">"More on this story. . . In Photos -"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-511"><a href="#cb59-511" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb59-512"><a href="#cb59-512" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-513"><a href="#cb59-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-514"><a href="#cb59-514" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6472"</span></span>
<span id="cb59-515"><a href="#cb59-515" aria-hidden="true" tabindex="-1"></a>Match_1 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb59-516"><a href="#cb59-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-517"><a href="#cb59-517" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6464"</span></span>
<span id="cb59-518"><a href="#cb59-518" aria-hidden="true" tabindex="-1"></a>Match_2 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb59-519"><a href="#cb59-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-520"><a href="#cb59-520" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6452"</span></span>
<span id="cb59-521"><a href="#cb59-521" aria-hidden="true" tabindex="-1"></a>Match_3 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb59-522"><a href="#cb59-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-523"><a href="#cb59-523" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6450"</span></span>
<span id="cb59-524"><a href="#cb59-524" aria-hidden="true" tabindex="-1"></a>Match_4 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb59-525"><a href="#cb59-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-526"><a href="#cb59-526" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6436"</span></span>
<span id="cb59-527"><a href="#cb59-527" aria-hidden="true" tabindex="-1"></a>Match_5 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb59-528"><a href="#cb59-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-529"><a href="#cb59-529" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6428"</span></span>
<span id="cb59-530"><a href="#cb59-530" aria-hidden="true" tabindex="-1"></a>Match_6 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb59-531"><a href="#cb59-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-532"><a href="#cb59-532" aria-hidden="true" tabindex="-1"></a>WestHam_url <span class="ot">&lt;-</span> <span class="st">"https://www.whufc.com/fixture/view/6407"</span></span>
<span id="cb59-533"><a href="#cb59-533" aria-hidden="true" tabindex="-1"></a>Match_7 <span class="ot">&lt;-</span> <span class="fu">Web_scrape_function_WestHam</span>(WestHam_url)</span>
<span id="cb59-534"><a href="#cb59-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-535"><a href="#cb59-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-536"><a href="#cb59-536" aria-hidden="true" tabindex="-1"></a>Westham <span class="ot">&lt;-</span> <span class="fu">c</span>(Match_1, Match_2, Match_3, Match_4, Match_5, Match_6, Match_7)</span>
<span id="cb59-537"><a href="#cb59-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-538"><a href="#cb59-538" aria-hidden="true" tabindex="-1"></a>Westham_corpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(Westham)</span>
<span id="cb59-539"><a href="#cb59-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-540"><a href="#cb59-540" aria-hidden="true" tabindex="-1"></a>Westham_corpus_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(Westham_corpus)</span>
<span id="cb59-541"><a href="#cb59-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-542"><a href="#cb59-542" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a team name</span></span>
<span id="cb59-543"><a href="#cb59-543" aria-hidden="true" tabindex="-1"></a>Westham_corpus_summary<span class="sc">$</span>Team <span class="ot">&lt;-</span> <span class="st">"WestHam"</span></span>
<span id="cb59-544"><a href="#cb59-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-545"><a href="#cb59-545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-546"><a href="#cb59-546" aria-hidden="true" tabindex="-1"></a><span class="co"># create a match indicator</span></span>
<span id="cb59-547"><a href="#cb59-547" aria-hidden="true" tabindex="-1"></a>Westham_corpus_summary<span class="sc">$</span>Match <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">str_extract</span>(Westham_corpus_summary<span class="sc">$</span>Text, <span class="st">"[0-9]+"</span>))</span>
<span id="cb59-548"><a href="#cb59-548" aria-hidden="true" tabindex="-1"></a>Westham_corpus_summary</span>
<span id="cb59-549"><a href="#cb59-549" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb59-550"><a href="#cb59-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-551"><a href="#cb59-551" aria-hidden="true" tabindex="-1"></a><span class="fu">## Exploratory Analysis</span></span>
<span id="cb59-552"><a href="#cb59-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-553"><a href="#cb59-553" aria-hidden="true" tabindex="-1"></a><span class="fu">## Bibliography</span></span>
<span id="cb59-554"><a href="#cb59-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-555"><a href="#cb59-555" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>City, M. (2022). NEWS. Retrieved from Mancity: https://www.mancity.com/news/mens</span>
<span id="cb59-556"><a href="#cb59-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-557"><a href="#cb59-557" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Club, L. F. (2022). First Team. Retrieved from Leicester Football Club: https://www.lcfc.com/matches/reports</span>
<span id="cb59-558"><a href="#cb59-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-559"><a href="#cb59-559" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Club, T. A. (2022). NEWS. Retrieved from Arsenal: https://www.arsenal.com/news?field_article_arsenal_team_value=men&amp;revision_information=&amp;page=1</span>
<span id="cb59-560"><a href="#cb59-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-561"><a href="#cb59-561" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Everton. (2022). Results. Retrieved from Everton: https://www.evertonfc.com/results</span>
<span id="cb59-562"><a href="#cb59-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-563"><a href="#cb59-563" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>United, N. (2022). Our Results. Retrieved from Newcastle United: https://www.nufc.co.uk/matches/first-team/#results</span>
<span id="cb59-564"><a href="#cb59-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-565"><a href="#cb59-565" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>United, W. H. (2022). Fixtures. Retrieved from West Ham United: https://www.whufc.com/fixture/list/713</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>